#include "bpred.h"

#define TAKEN   true
#define NOTTAKEN false

/////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////

BPRED::BPRED(uint32_t policy) {
    if(policy == 1)
    {
        (*this).policy = BPRED_ALWAYS_TAKEN;
    }
    else if(policy == 2)
    {
        (*this).policy = BPRED_GSHARE;
    }
    stat_num_branches = 0;
    stat_num_mispred = 0;
    
}

/////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////

bool BPRED::GetPrediction(uint32_t PC){
    if(policy == BPRED_ALWAYS_TAKEN)
        return TAKEN;
    else if(policy == BPRED_GSHARE)
    {
        return NOTTAKEN;
    }
}


/////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////

void  BPRED::UpdatePredictor(uint32_t PC, bool resolveDir, bool predDir) {
    // stat_num_mispred = (resolveDir == predDir)? stat_num_mispred : stat_num_mispred + 1; 

}

/////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////

